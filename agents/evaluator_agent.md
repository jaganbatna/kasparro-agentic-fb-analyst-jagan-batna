# Evaluator Agent — Documentation

## Role
The Evaluator Agent validates each hypothesis generated by the Insight Agent using quantitative checks. It determines whether each hypothesis should be accepted, rejected, or marked as inconclusive based on confidence scoring and rule-based evaluation.

---

## Inputs
### `hypotheses` (list of objects)
Provided by the Insight Agent.

Each hypothesis must include:
- `id`
- `hypothesis`
- `reason`
- `initial_confidence`

Example input:
```json
[
  {
    "id": "h1",
    "campaign_name": "C-A",
    "hypothesis": "Creative fatigue",
    "reason": "CTR significantly below global average",
    "initial_confidence": 0.60
  }
]


## Outputs
[
  {
    "hypothesis_id": "h1",
    "decision": "accept",
    "confidence": 0.80
  }
]
Responsibilities

Apply rule-based quantitative validation.

Strengthen or weaken initial hypothesis confidence.

Ensure outputs are structured and ready for final reporting.

Provide confidence scores using consistent logic.

Define simple quantitative logic for performance anomalies.

Evaluation Logic (Rule-Based)

The Evaluator Agent uses deterministic rules based on initial_confidence:

If initial_confidence >= 0.60 →

decision = "accept"

confidence = 0.80

If 0.40 <= initial_confidence < 0.60 →

decision = "inconclusive"

confidence = 0.50

If initial_confidence < 0.40 →

decision = "reject"

confidence = 0.30

These values are adjustable but provide consistent scoring for this assignment.

Decision & Reflection Logic

If the Evaluator Agent outputs "inconclusive":

Recommend extending the time window

Suggest collecting additional creative-level or audience-level metrics

Mark hypothesis as requiring additional data for validation

If the Evaluator Agent outputs "reject":

Record hypothesis as discarded but keep for documentation purposes

If any hypothesis lacks mandatory fields:

Return an error structure:
{"error": "hypothesis_missing_fields"}

Example

Input:
initial_confidence = 0.62
Output:
decision = "accept"
confidence = 0.80

Reason:
Initial confidence meets acceptance threshold.

Tests / Validation

Hypotheses with initial_confidence >= 0.60 always return "accept".

Hypotheses with initial_confidence < 0.40 correctly return "reject".

Hypotheses with missing fields trigger an "error" object.

Confidence values remain within [0,1].

Output maintains the required JSON structure.